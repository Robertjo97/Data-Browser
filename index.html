<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Browser</title>
    <script>
        class NationalPark {
            name = '';
            location = '';
            yearEstablished = 0;
            freeEntry = false;
            biome = ['aquatic', 'grassland', 'forest', 'desert', 'tundra'];
            img = '';
        }

        let parks = new Array();

        const yosemite = new NationalPark();
        yosemite.name = 'Yosemite';
        yosemite.location = 'California';
        yosemite.yearEstablished = 1890;
        yosemite.freeEntry = false;
        yosemite.biome = yosemite.biome[2];
        yosemite.img = 'https://upload.wikimedia.org/wikipedia/commons/thumb/d/d6/Half_Dome_from_Glacier_Point%2C_Yosemite_NP_-_Diliff.jpg/1920px-Half_Dome_from_Glacier_Point%2C_Yosemite_NP_-_Diliff.jpg';
        parks.push(yosemite);

        const greatSmokyMountains = new NationalPark();
        greatSmokyMountains.name = 'Great Smoky Mountains';
        greatSmokyMountains.location = 'Tennessee';
        greatSmokyMountains.yearEstablished = 1934;
        greatSmokyMountains.freeEntry = true;
        greatSmokyMountains.biome = greatSmokyMountains.biome[2];
        greatSmokyMountains.img = 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Foothills_Parkway%2C_November_2018--Joye_Ardyn_Durham_%2831031302587%29.jpg/1920px-Foothills_Parkway%2C_November_2018--Joye_Ardyn_Durham_%2831031302587%29.jpg';
        parks.push(greatSmokyMountains);

        const grandCanyon = new NationalPark();
        grandCanyon.name = 'Grand Canyon';
        grandCanyon.location = 'Arizona';
        grandCanyon.yearEstablished = 1919;
        grandCanyon.freeEntry = false;
        grandCanyon.biome = grandCanyon.biome[3];
        grandCanyon.img = 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/f9/USA_09847_Grand_Canyon_Luca_Galuzzi_2007.jpg/1920px-USA_09847_Grand_Canyon_Luca_Galuzzi_2007.jpg';
        parks.push(grandCanyon);

        const zion = new NationalPark();
        zion.name = 'Zion';
        zion.location = 'Utah';
        zion.yearEstablished = 1919;
        zion.freeEntry = false;
        zion.biome = zion.biome[3];
        zion.img = 'https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Angels_Landing.jpg/1280px-Angels_Landing.jpg';
        parks.push(zion);

        const rockyMountain = new NationalPark();
        rockyMountain.name = 'Rocky Mountain';
        rockyMountain.location = 'Colorado';
        rockyMountain.yearEstablished = 1915;
        rockyMountain.freeEntry = false;
        rockyMountain.biome = rockyMountain.biome[4];
        rockyMountain.img = 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/Bierstadt_Lake%2C_Rocky_Mountain_National_Park%2C_USA.jpg/1280px-Bierstadt_Lake%2C_Rocky_Mountain_National_Park%2C_USA.jpg';
        parks.push(rockyMountain);

        function getJSONString() {
            let x = JSON.stringify(parks);
            document.getElementById('jsonData').innerHTML = '<p>' + x + '</p>';
        }

        function putImage() {
            let container = document.createElement('div');
            document.body.appendChild(container);
            let image = document.createElement('img');
            image.src = yosemite.img;
            image.style.width = '500px';
            image.style.height = 'auto';
            container.appendChild(image);
        }

        function getData(callback) {
            const request = new XMLHttpRequest();
            request.onreadystatechange = function () {
                if (request.readyState == 4 && request.status == 200) {
                    callback(request);
                }
            }
            request.open("GET", "data.json", true);
            request.send();
        }

        let displayed = false;
        function displayJSON(data) {
            let btn = document.getElementById('jsonBtn');
            if(!displayed){
                btn.innerHTML = "Click to hide JSON data";
                document.getElementById('jsonData').innerHTML = '<p>' + data.responseText + '</p>';
                displayed = true;
            }
            else {
                btn.innerHTML = 'Click to display JSON data';
                document.getElementById('jsonData').innerHTML = '';
                displayed = false;
            }
        }

        let i = 0;
        let previouslyPressed = false;
        
        function displayNationalPark(data) {
            if (previouslyPressed) {
                return;
            }
            previouslyPressed = true;

            const nationalParks = JSON.parse(data.responseText);
            let park = nationalParks[i];

            let displayName = document.createElement('p');
            displayName.id = "displayName";
            displayName.innerHTML = 'Name: ' + park.name + ' National Park';
            const container = document.getElementById('NationalParkContainer');
            container.appendChild(displayName);

            let previous = document.createElement('button');
            previous.innerHTML = 'Previous';
            previous.type = "button";
            previous.id = 'previous';
            previous.onclick = function() {
                getData(previousButton);
            }
            container.appendChild(previous);
            
            let next = document.createElement('button');
            next.innerHTML = "Next";
            next.type = 'button';
            next.id = 'next';
            next.onclick = function(){ 
                getData(nextButton);
            }
            container.appendChild(next);
        }

        function nextButton(data) {
            const nationalParks = JSON.parse(data.responseText);
            i++;
            if(i == nationalParks.length){
                i = 0;
            }
            let park = nationalParks[i];
            let displayName = document.getElementById('displayName');
            displayName.innerHTML = park.name + ' National Park';
        }

        function previousButton(data) {
            const nationalParks = JSON.parse(data.responseText);
            i--;
            if(i == -1){
                i = nationalParks.length - 1;
            }
            let park = nationalParks[i];
            let displayName = document.getElementById('displayName');
            displayName.innerHTML = park.name + ' National Park';
        }

    </script>
</head>

<body>
    <button type="button" id="jsonBtn" onclick="getData(displayJSON)">Click to display JSON data</button>
    <div id="jsonData"></div>
    <button type="button" id="NationalParkButton" onclick="getData(displayNationalPark)">Click to display a National
        Park</button>
    <div id="NationalParkContainer"></div>
</body>

</html>